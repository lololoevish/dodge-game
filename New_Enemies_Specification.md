# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –ù–æ–≤—ã–µ —Ç–∏–ø—ã –≤—Ä–∞–≥–æ–≤ –¥–ª—è –∏–≥—Ä—ã "Dodge Game"

## –û–±–∑–æ—Ä

–í —Ä–∞–º–∫–∞—Ö —Ä–∞–∑–≤–∏—Ç–∏—è –∏–≥—Ä—ã "Dodge Game" –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ—Ö –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –≤—Ä–∞–≥–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç –∏–º–µ—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –º–µ—Ö–∞–Ω–∏–∫—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∏–≥—Ä–æ–≤—ã–º –ø–æ–ª–µ–º –∏ –¥—Ä—É–≥–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏. –ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–∏—Ö –≤—Ä–∞–≥–æ–≤.

## –ù–æ–≤—ã–µ —Ç–∏–ø—ã –≤—Ä–∞–≥–æ–≤

### 1. –ö—Ä–∏—Å—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (Crystal Controller)

#### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è:
- **–ù–∞–∑–≤–∞–Ω–∏–µ:** –ö—Ä–∏—Å—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
- **–í–Ω–µ—à–Ω–∏–π –≤–∏–¥:** –°–∏—è—é—â–∏–π —Å–∏–Ω–µ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π –∫—Ä–∏—Å—Ç–∞–ª–ª —Å –≥–µ–∫—Å–∞–≥–æ–Ω–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–æ–π
- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ:** –≠—Ç–æ—Ç –≤—Ä–∞–≥ –Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä—è–º–æ–π —É–≥—Ä–æ–∑—ã —Å–∞–º –ø–æ —Å–µ–±–µ, –Ω–æ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∏—Å–ø—É—Å–∫–∞–µ—Ç –∏–º–ø—É–ª—å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ "–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞—é—Ç" –¥—Ä—É–≥–∏—Ö –≤—Ä–∞–≥–æ–≤ –Ω–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è (1-2 —Å–µ–∫—É–Ω–¥—ã). –í–æ –≤—Ä–µ–º—è –∑–∞–º–æ—Ä–æ–∑–∫–∏ –≤—Ä–∞–≥–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ —Å–≤–æ–∏—Ö –ø–æ–∑–∏—Ü–∏—è—Ö, –Ω–æ –Ω–µ –º–æ–≥—É—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è. –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –æ–Ω–∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è—é—Ç —Å–≤–æ–µ –æ–±—ã—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è - –≤—Ä–∞–≥ –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –æ–±—â—É—é —É–≥—Ä–æ–∑—É –Ω–∞ –ø–æ–ª–µ, –Ω–æ –µ–≥–æ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª–æ–∂–Ω–æ–µ —á—É–≤—Å—Ç–≤–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ—á–µ–Ω—å –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤—Ä–∞–≥–æ–≤
- –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–ª—è—Ç—å—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º
- –î–æ–ª–∂–µ–Ω –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç –∑–∞–º–æ—Ä–æ–∑–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏—Ö –≤—Ä–∞–≥–æ–≤ –≤ —Ä–∞–¥–∏—É—Å–µ –¥–µ–π—Å—Ç–≤–∏—è
- –ù–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä—è–º–æ–π —É–≥—Ä–æ–∑—ã –∏–≥—Ä–æ–∫—É

### 2. –ü—Ä–∏–∑—Ä–∞—á–Ω—ã–π –¥—É–±–ª–∏–∫–∞—Ç–æ—Ä (Phantom Duplicator)

#### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è:
- **–ù–∞–∑–≤–∞–Ω–∏–µ:** –ü—Ä–∏–∑—Ä–∞—á–Ω—ã–π –¥—É–±–ª–∏–∫–∞—Ç–æ—Ä
- **–í–Ω–µ—à–Ω–∏–π –≤–∏–¥:** –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Å–µ—Ä–∞—è –∫–æ–ø–∏—è –∏–≥—Ä–æ–∫–∞ —Å –±–æ–ª–µ–µ —Ç–µ–º–Ω—ã–º–∏ —á–µ—Ä—Ç–∞–º–∏
- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ:** –≠—Ç–æ—Ç –≤—Ä–∞–≥ –∫–æ–ø–∏—Ä—É–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞ —Å –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π (0.5-1.5 —Å–µ–∫—É–Ω–¥—ã). –û–Ω –Ω–µ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è —Å –∏–≥—Ä–æ–∫–æ–º, –∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –µ–≥–æ –º–∞—Ä—à—Ä—É—Ç —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π, —Å–æ–∑–¥–∞–≤–∞—è —ç—Ñ—Ñ–µ–∫—Ç "—Ñ–∞–Ω—Ç–æ–º–∞" –∏–≥—Ä–æ–∫–∞. –ò–Ω–æ–≥–¥–∞ –æ–Ω –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –Ω–µ–±–æ–ª—å—à–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç –º–∞—Ä—à—Ä—É—Ç–∞, —á—Ç–æ–±—ã —É—Å–ª–æ–∂–Ω–∏—Ç—å —É–∫–ª–æ–Ω–µ–Ω–∏–µ.
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è - –∏–∑-–∑–∞ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã—Ö –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π –∏ –∑–∞–¥–µ—Ä–∂–∫–∏ –≤ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π –∏–≥—Ä–æ–∫–∞.

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ—á–µ–Ω—å –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤—Ä–∞–≥–æ–≤
- –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–ª—è—Ç—å—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º
- –î–æ–ª–∂–µ–Ω –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
- –î–æ–ª–∂–µ–Ω –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞ —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è–º–∏
- –î–æ–ª–∂–µ–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —É–≥—Ä–æ–∑—É –ø—Ä–∏ –ø—Ä—è–º–æ–º –∫–æ–Ω—Ç–∞–∫—Ç–µ

### 3. –ó–æ–Ω–∞ –∑–∞—Ä–∞–∂–µ–Ω–∏—è (Contamination Zone)

#### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è:
- **–ù–∞–∑–≤–∞–Ω–∏–µ:** –ó–æ–Ω–∞ –∑–∞—Ä–∞–∂–µ–Ω–∏—è
- **–í–Ω–µ—à–Ω–∏–π –≤–∏–¥:** –ö—Ä—É–≥–ª–∞—è –ø—É–ª—å—Å–∏—Ä—É—é—â–∞—è –æ–±–ª–∞—Å—Ç—å —Å —Ä–∞–¥–∏–æ–∞–∫—Ç–∏–≤–Ω—ã–º —Å–∏–º–≤–æ–ª–æ–º –≤ —Ü–µ–Ω—Ç—Ä–µ, –æ–∫—Ä–∞—à–µ–Ω–Ω–∞—è –≤ –∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç
- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ:** –≠—Ç–æ—Ç –≤—Ä–∞–≥ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –ø–æ –∫–∞—Ä—Ç–µ, –æ—Å—Ç–∞–≤–ª—è—è –∑–∞ —Å–æ–±–æ–π –≤—Ä–µ–º–µ–Ω–Ω—ã–µ "–∑–æ–Ω—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏" - –æ–±–ª–∞—Å—Ç–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∏–≥—Ä–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç —É—Ä–æ–Ω –ø—Ä–∏ –∫–æ–Ω—Ç–∞–∫—Ç–µ. –≠—Ç–∏ –∑–æ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç 5-10 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ —É—Ö–æ–¥–∞ –≤—Ä–∞–≥–∞. –í—Ä–∞–≥ —Å–∞–º –ø–æ —Å–µ–±–µ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —É–≥—Ä–æ–∑—É –ø—Ä–∏ –ø—Ä—è–º–æ–º –∫–æ–Ω—Ç–∞–∫—Ç–µ.
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è - —Ç—Ä–µ–±—É–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —É–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç —Å–∞–º–æ–≥–æ –≤—Ä–∞–≥–∞, –Ω–æ –∏ —É—á–µ—Ç–∞ –∑–æ–Ω –æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç–µ.

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ—á–µ–Ω—å –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤—Ä–∞–≥–æ–≤
- –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–ª—è—Ç—å—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º
- –î–æ–ª–∂–µ–Ω –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞—Ç—å –∏–≥—Ä–æ–∫–∞ –ø–æ –∫–∞—Ä—Ç–µ
- –î–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–ª—è—Ç—å –∑–∞ —Å–æ–±–æ–π –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –î–æ–ª–∂–µ–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —É–≥—Ä–æ–∑—É –ø—Ä–∏ –ø—Ä—è–º–æ–º –∫–æ–Ω—Ç–∞–∫—Ç–µ
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —É–≥—Ä–æ–∑—É –∏–≥—Ä–æ–∫—É

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ src/types/game.ts:

#### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:
```typescript
// 14. –ö—Ä–∏—Å—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç –¥—Ä—É–≥–∏—Ö –≤—Ä–∞–≥–æ–≤)
export interface CrystalController extends GameObject {
  type: 'crystal-controller'
  lastFreeze: number
  freezeCooldown: number
  freezeDuration: number
  freezeRadius: number
}

// 15. –ü—Ä–∏–∑—Ä–∞—á–Ω—ã–π –¥—É–±–ª–∏–∫–∞—Ç–æ—Ä (–∫–æ–ø–∏—Ä—É–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞)
export interface PhantomDuplicator extends GameObject {
  type: 'phantom-duplicator'
  targetPosition: Position
  delay: number
  lastUpdate: number
  offset: number
}

// 16. –ó–æ–Ω–∞ –∑–∞—Ä–∞–∂–µ–Ω–∏—è (–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–æ–Ω—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
export interface ContaminationZone extends GameObject {
  type: 'contamination-zone'
  lastDrop: number
  dropInterval: number
  zoneDuration: number
}

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–æ–Ω—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
export interface HazardZone extends GameObject {
  type: 'hazard-zone'
  expirationTime: number
}

// –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –≤ GameEntity:
export type GameEntity = Player | ChaserSquare | BouncingCircle | StarGenerator | PurpleProjectile |
  TriangleSpinner | PentagonSpiral | Lightning | FireBall | DiagonalHunter |
  Mine | LaserBeam | TeleportCube | Spinner | GhostBall | SnakeSegment |
  PulsatingSphere | PatrolSquare | ReflectingProjectile | Bonus | CrystalController | 
  PhantomDuplicator | ContaminationZone | HazardZone
```

#### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ GameConfig:
```typescript
export interface GameConfig {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ...
  
  // –ù–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤—Ä–∞–≥–æ–≤
  crystalControllerSize: number
  crystalControllerSpawnTime: number
  phantomDuplicatorSize: number
  phantomDuplicatorSpawnTime: number
  contaminationZoneSize: number
  contaminationZoneSpawnTime: number
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ src/lib/gameLogic.ts:

#### –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Å–ø–∞–≤–Ω–∞:
```typescript
// –§—É–Ω–∫—Ü–∏—è —Å–ø–∞–≤–Ω–∞ –∫—Ä–∏—Å—Ç–∞–ª–ª–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
export function spawnCrystalController(gameState: GameState, config: GameConfig): GameState {
  const x = Math.random() * (config.gameWidth - config.crystalControllerSize) + config.crystalControllerSize / 2
  const y = Math.random() * (config.gameHeight - config.crystalControllerSize) + config.crystalControllerSize / 2

  const crystalController: CrystalController = {
    id: `crystal-controller-${Date.now()}`,
    type: 'crystal-controller',
    position: { x, y },
    size: { width: config.crystalControllerSize, height: config.crystalControllerSize },
    color: '#8b5cf6', // violet-500
    lastFreeze: Date.now(),
    freezeCooldown: 8000, // 8 —Å–µ–∫—É–Ω–¥
    freezeDuration: 1500, // 1.5 —Å–µ–∫—É–Ω–¥—ã
    freezeRadius: 150
  }

  const newEncounteredEnemies = gameState.encounteredEnemies.includes('crystal-controller')
    ? gameState.encounteredEnemies
    : [...gameState.encounteredEnemies, 'crystal-controller']

  return {
    ...gameState,
    entities: [...gameState.entities, crystalController],
    encounteredEnemies: newEncounteredEnemies
  }
}

// –§—É–Ω–∫—Ü–∏—è —Å–ø–∞–≤–Ω–∞ –ø—Ä–∏–∑—Ä–∞—á–Ω–æ–≥–æ –¥—É–±–ª–∏–∫–∞—Ç–æ—Ä–∞
export function spawnPhantomDuplicator(gameState: GameState, config: GameConfig): GameState {
  // –ù–∞—á–∏–Ω–∞–µ–º –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —ç–∫—Ä–∞–Ω–∞, —á—Ç–æ–±—ã –¥–∞—Ç—å –≤—Ä–µ–º—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
  const x = -config.phantomDuplicatorSize
  const y = -config.phantomDuplicatorSize

  const duplicator: PhantomDuplicator = {
    id: `phantom-duplicator-${Date.now()}`,
    type: 'phantom-duplicator',
    position: { x, y },
    size: { width: config.phantomDuplicatorSize, height: config.phantomDuplicatorSize },
    color: 'rgba(128, 128, 128, 0.6)', // –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Å–µ—Ä—ã–π
    targetPosition: { x, y },
    delay: 1000, // 1 —Å–µ–∫—É–Ω–¥–∞ –∑–∞–¥–µ—Ä–∂–∫–∏
    lastUpdate: Date.now(),
    offset: 30 // –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç –º–∞—Ä—à—Ä—É—Ç–∞
  }

  const newEncounteredEnemies = gameState.encounteredEnemies.includes('phantom-duplicator')
    ? gameState.encounteredEnemies
    : [...gameState.encounteredEnemies, 'phantom-duplicator']

  return {
    ...gameState,
    entities: [...gameState.entities, duplicator],
    encounteredEnemies: newEncounteredEnemies
  }
}

// –§—É–Ω–∫—Ü–∏—è —Å–ø–∞–≤–Ω–∞ –∑–æ–Ω—ã –∑–∞—Ä–∞–∂–µ–Ω–∏—è
export function spawnContaminationZone(gameState: GameState, config: GameConfig): GameState {
  const x = Math.random() * (config.gameWidth - config.contaminationZoneSize) + config.contaminationZoneSize / 2
  const y = Math.random() * (config.gameHeight - config.contaminationZoneSize) + config.contaminationZoneSize / 2

  const contaminationZone: ContaminationZone = {
    id: `contamination-zone-${Date.now()}`,
    type: 'contamination-zone',
    position: { x, y },
    size: { width: config.contaminationZoneSize, height: config.contaminationZoneSize },
    color: '#4ade80', // green-400
    lastDrop: Date.now(),
    dropInterval: 5000, // 5 —Å–µ–∫—É–Ω–¥
    zoneDuration: 8000 // 8 —Å–µ–∫—É–Ω–¥ –∂–∏–∑–Ω–∏ –∑–æ–Ω—ã
  }

  const newEncounteredEnemies = gameState.encounteredEnemies.includes('contamination-zone')
    ? gameState.encounteredEnemies
    : [...gameState.encounteredEnemies, 'contamination-zone']

  return {
    ...gameState,
    entities: [...gameState.entities, contaminationZone],
    encounteredEnemies: newEncounteredEnemies
  }
}
```

#### –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```typescript
// –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—Ä–∏—Å—Ç–∞–ª–ª–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
export function updateCrystalController(controller: CrystalController): CrystalController {
  return controller // –ö—Ä–∏—Å—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–µ –¥–≤–∏–≥–∞–µ—Ç—Å—è
}

// –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–∑—Ä–∞—á–Ω–æ–≥–æ –¥—É–±–ª–∏–∫–∞—Ç–æ—Ä–∞
export function updatePhantomDuplicator(duplicator: PhantomDuplicator, gameState: GameState): PhantomDuplicator {
  const currentTime = Date.now()
  
  // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
  if (currentTime - duplicator.lastUpdate >= duplicator.delay) {
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–µ–ª–µ–≤—É—é –ø–æ–∑–∏—Ü–∏—é –¥–æ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞
    const newTargetPosition = { ...gameState.player.position }
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
    const offsetX = (Math.random() - 0.5) * duplicator.offset
    const offsetY = (Math.random() - 0.5) * duplicator.offset
    
    return {
      ...duplicator,
      position: {
        x: duplicator.targetPosition.x + offsetX,
        y: duplicator.targetPosition.y + offsetY
      },
      targetPosition: newTargetPosition,
      lastUpdate: currentTime
    }
  }
  
  return duplicator
}

// –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–æ–Ω—ã –∑–∞—Ä–∞–∂–µ–Ω–∏—è
export function updateContaminationZone(zone: ContaminationZone, gameState: GameState, playerPosition: Position): [ContaminationZone, GameEntity[]] {
  const currentTime = Date.now()
  const newHazards: HazardZone[] = []
  
  // –î–≤–∏–∂–µ–Ω–∏–µ –∫ –∏–≥—Ä–æ–∫—É
  const dx = playerPosition.x - zone.position.x
  const dy = playerPosition.y - zone.position.y
  const distance = Math.sqrt(dx * dx + dy * dy)
  const speed = 0.8
  
  let newPosition = { ...zone.position }
  if (distance > 5) { // –ï—Å–ª–∏ –Ω–µ —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ –∫ –∏–≥—Ä–æ–∫—É
    const normalizedDx = (dx / distance) * speed
    const normalizedDy = (dy / distance) * speed
    newPosition = {
      x: zone.position.x + normalizedDx,
      y: zone.position.y + normalizedDy
    }
  }
  
  // –°–æ–∑–¥–∞–Ω–∏–µ –∑–æ–Ω—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
  if (currentTime - zone.lastDrop >= zone.dropInterval) {
    const hazardZone: HazardZone = {
      id: `hazard-zone-${Date.now()}`,
      type: 'hazard-zone',
      position: { ...zone.position },
      size: { width: 40, height: 40 }, // –†–∞–∑–º–µ—Ä –∑–æ–Ω—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
      color: 'rgba(74, 222, 128, 0.3)', // –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∑–µ–ª–µ–Ω—ã–π
      expirationTime: currentTime + zone.zoneDuration
    }
    
    newHazards.push(hazardZone)
    
    return [{
      ...zone,
      position: newPosition,
      lastDrop: currentTime
    }, newHazards]
  }
  
  return [{
    ...zone,
    position: newPosition
  }, newHazards]
}

// –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–æ–Ω –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
export function updateHazardZones(entities: GameEntity[]): GameEntity[] {
  const currentTime = Date.now()
  return entities.filter(entity => {
    if (entity.type === 'hazard-zone') {
      return (entity as HazardZone).expirationTime > currentTime
    }
    return true
  })
}
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª:
```typescript
// –í —Ñ—É–Ω–∫—Ü–∏–∏ updateGameEntities –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–æ–≤—ã—Ö –≤—Ä–∞–≥–æ–≤
export function updateGameEntities(gameState: GameState, config: GameConfig): GameState {
  let updatedEntities: GameEntity[] = [];
  let newGameState = { ...gameState };

  // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –±–æ–Ω—É—Å—ã
  newGameState = updateActiveBonuses(newGameState);

  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ ...

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö –≤—Ä–∞–≥–æ–≤
  const newEntities: GameEntity[] = [];
  const hazardZonesToAdd: GameEntity[] = [];

  newGameState.entities.forEach(entity => {
    switch (entity.type) {
      // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∏–ø—ã ...
      
      case 'crystal-controller':
        newEntities.push(updateCrystalController(entity));
        break;
        
      case 'phantom-duplicator':
        newEntities.push(updatePhantomDuplicator(entity, newGameState));
        break;
        
      case 'contamination-zone':
        const [updatedZone, newHazards] = updateContaminationZone(entity, newGameState, newGameState.player.position);
        newEntities.push(updatedZone);
        if (newHazards.length > 0) {
          hazardZonesToAdd.push(...newHazards);
        }
        break;
        
      default:
        newEntities.push(entity);
    }
  });

  // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –∑–æ–Ω—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
  newEntities.push(...hazardZonesToAdd);

  // –£–¥–∞–ª—è–µ–º –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
  newEntities = updateHazardZones(newEntities);

  newGameState.entities = newEntities;

  return newGameState;
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ src/lib/enemyDescriptions.ts:

#### –î–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –≤—Ä–∞–≥–æ–≤:
```typescript
export const enemyDescriptions: EnemyDescription[] = [
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤—Ä–∞–≥–∏ ...
  
  {
    type: 'crystal-controller',
    emoji: 'üíé',
    name: '–ö—Ä–∏—Å—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä',
    description: '–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç –¥—Ä—É–≥–∏—Ö –≤—Ä–∞–≥–æ–≤ –≤ —Ä–∞–¥–∏—É—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ 1.5 —Å–µ–∫—É–Ω–¥—ã',
    spawnTime: 110 // –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ–∑–∂–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
  },
  {
    type: 'phantom-duplicator',
    emoji: 'üëª',
    name: '–ü—Ä–∏–∑—Ä–∞—á–Ω—ã–π –¥—É–±–ª–∏–∫–∞—Ç–æ—Ä',
    description: '–ö–æ–ø–∏—Ä—É–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π, —Å–æ–∑–¥–∞–≤–∞—è —Ñ–∞–Ω—Ç–æ–º–∞, –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–≥–æ –≤–∞—à –º–∞—Ä—à—Ä—É—Ç',
    spawnTime: 120 // –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ–∑–∂–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
  },
  {
    type: 'contamination-zone',
    emoji: '‚ò¢Ô∏è',
    name: '–ó–æ–Ω–∞ –∑–∞—Ä–∞–∂–µ–Ω–∏—è',
    description: '–ü—Ä–µ—Å–ª–µ–¥—É–µ—Ç –∏–≥—Ä–æ–∫–∞ –∏ –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –Ω–∞–Ω–æ—Å—è—â–∏–µ —É—Ä–æ–Ω',
    spawnTime: 130 // –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ–∑–∂–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
  }
]
```

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–í —Ñ–∞–π–ª–µ `defaultGameConfig` –¥–æ–±–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
```typescript
export const defaultGameConfig: GameConfig = {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ...
  
  // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –Ω–æ–≤—ã—Ö –≤—Ä–∞–≥–æ–≤
  crystalControllerSize: 24,
  crystalControllerSpawnTime: 110000,
  phantomDuplicatorSize: 18,
  phantomDuplicatorSpawnTime: 120000,
  contaminationZoneSize: 30,
  contaminationZoneSpawnTime: 130000,
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –≤—Ä–∞–≥–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å–ø–∞–≤–Ω–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –≤—Ä–∞–≥–∞
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –≤—Ä–∞–≥–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –Ω–æ–≤—ã—Ö –≤—Ä–∞–≥–æ–≤ —Å –∏–≥—Ä–æ–∫–æ–º –∏ –¥—Ä—É–≥–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–æ–Ω –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–ª–∏—è–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤—Ä–∞–≥–æ–≤ –Ω–∞ –æ–±—â—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∏–≥—Ä—ã